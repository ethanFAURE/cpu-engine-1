#pragma once

struct TRANSFORM
{
	// Position
	DirectX::XMFLOAT3 pos;

	// Scaling
	DirectX::XMFLOAT3 sca;

	// Rotation
	DirectX::XMFLOAT3 dir;
	DirectX::XMFLOAT3 right;
	DirectX::XMFLOAT3 up;
	DirectX::XMFLOAT4 quat;
	DirectX::XMFLOAT4X4 rot;

	// World
	DirectX::XMFLOAT4X4 world;
	
	TRANSFORM();
	void Identity();
	void UpdateWorld();
	void SetScaling(float scale);
	void SetPosition(float x, float y, float z);
	void Move(float dist);
	void ResetRotation();
	void SetRotation(TRANSFORM& transform);
	void SetYPR(float yaw, float pitch = 0.0f, float roll = 0.0f);
	void AddYPR(float yaw, float pitch = 0.0f, float roll = 0.0f);
	void LookAt(float x, float y, float z);
	void LookTo(float ndx, float ndy, float ndz);
	void LookTo(DirectX::XMFLOAT3& ndir);
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct ENTITY
{
	int index;
	int sortedIndex;
	bool dead;
	MESH* pMesh;
	TRANSFORM transform;
	DirectX::XMFLOAT3 view;
	DirectX::XMFLOAT3 material;
	float lifetime;
	ui32 tile;
	AABB aabb;
	OBB obb;
	RECTANGLE box;

	ENTITY();
};
